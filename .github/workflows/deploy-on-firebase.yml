name: Firebaseにデプロイ
on: push

jobs:
  build:
    name: ビルド
    runs-on: ubuntu-latest
    container:
      image: node
    steps:
      - env:
          GITHUB_SHA: ${GITHUB_SHA}
        uses: actions/checkout@${GITHUB_SHA}
      - run: ls -la
      - run: yarn
      - run: pwd && ls && yarn generate
      - run: yarn global add firebase-tools
      - run: firebase use v-kansai --token ${{ secrets.FIREBASE_TOKEN }}
      - run: firebase deploy --token ${{ secrets.FIREBASE_TOKEN }}