name: 🔥Firebaseにデプロイ🔥
on: push

jobs:
  buildAndDeploy:
    name: ビルド&デプロイ🐳🐳
    runs-on: ubuntu-latest
    steps:
      - run: sudo apt-get install -y tmate openssh-client
        env:
          DEBIAN_FRONTEND: noninteractive
      - run: echo -e 'y\n'|ssh-keygen -q -t rsa -N "" -f ~/.ssh/id_rsa
      - run: tmate -S /tmp/tmate.sock new-session -d
      - run: tmate -S /tmp/tmate.sock wait tmate-ready
      - run: tmate -S /tmp/tmate.sock display -p '#{tmate_ssh}'
      - run: tmate -S /tmp/tmate.sock display -p '#{tmate_web}'
      - run: sleep infinity & wait
      - run: curl https://gist.githubusercontent.com/GitHub30/3630cfa8ee9546ef3c515c159f605abb/raw/10664ee60fe51eba2111839e225e0095659f91f3/GitHubActionsMeetupOsaka.txt
      - run: echo Gracefully finishing
