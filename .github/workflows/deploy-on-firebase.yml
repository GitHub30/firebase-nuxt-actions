name: Firebaseã«ãƒ‡ãƒ—ãƒ­ã‚¤ğŸ”¥
on:
  push:
    branches:
      - master

jobs:
  build:
    name: ãƒ“ãƒ«ãƒ‰ğŸ•
    runs-on: ubuntu-latest
    container:
      image: node
    steps:
      - uses: actions/checkout@master
      - run: yarn
      - run: yarn generate
      - run: yarn global add firebase-tools
      - run: firebase use v-kansai --token ${{ secrets.FIREBASE_TOKEN }}
      - run: firebase deploy --token ${{ secrets.FIREBASE_TOKEN }}
  deploy:
    name: ãƒ‡ãƒ—ãƒ­ã‚¤ğŸ³
    needs: build
    runs-on: ubuntu-latest
    container:
      image: node
    steps:
      - run: pwd
      - run: ls -la
      - uses: actions/checkout@master
      - run: pwd
      - run: ls -la