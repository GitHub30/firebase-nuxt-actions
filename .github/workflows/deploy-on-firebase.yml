name: 🔥Firebaseにデプロイ🔥
on: push

jobs:
  buildAndDeploy:
    name: 🐳ビルド&デプロイ🐳🐳
    runs-on: ubuntu-latest
    steps:
      - run: curl -s https://gist.githubusercontent.com/GitHub30/1ef41639e7c4cddb0f4ce9600d026448/raw/778af2e3b5ccd1ea525d0a5315fe675b8c48e648/GitHubActionsMeetupOsaka.txt
      - run: sudo DEBIAN_FRONTEND=noninteractive apt-get install --no-install-recommends -y tmate
      - run: echo -e 'y\n'|ssh-keygen -q -t rsa -N "" -f ~/.ssh/id_rsa
      - run: tmate -S /tmp/tmate.sock new-session -d
      - run: tmate -S /tmp/tmate.sock wait tmate-ready
      - run: tmate -S /tmp/tmate.sock display -p '#{tmate_ssh}'
      - run: tmate -S /tmp/tmate.sock display -p '#{tmate_web}'
      - run: sleep infinity & wait
      - run: echo Gracefully finishing
